releases:
  - name: {{ requiredEnv "PLATFORM_ENV" }}-thaladb
    namespace: {{ requiredEnv "PLATFORM_ENV" }}-edudoor
    labels:
      stage: 1
    chart: ./charts/thaladb
    values:
      - ./charts/thaladb/values.yaml
      - ./environments/{{ requiredEnv "PLATFORM_ENV" }}/config.yaml

  - name: {{ requiredEnv "PLATFORM_ENV" }}-samvadam
    namespace: {{ requiredEnv "PLATFORM_ENV" }}-edudoor
    labels:
      stage: 2
    chart: ./charts/samvadam
    needs:
      - {{ requiredEnv "PLATFORM_ENV" }}-edudoor/{{ requiredEnv "PLATFORM_ENV" }}-thaladb
    values:
      - ./charts/samvadam/values.yaml
      - ./environments/{{ requiredEnv "PLATFORM_ENV" }}/config.yaml

  - name: {{ requiredEnv "PLATFORM_ENV" }}-thala
    namespace: {{ requiredEnv "PLATFORM_ENV" }}-edudoor
    labels:
      stage: 2
    chart: ./charts/thala
    needs:
      - {{ requiredEnv "PLATFORM_ENV" }}-edudoor/{{ requiredEnv "PLATFORM_ENV" }}-thaladb
    values:
      - ./charts/thala/values.yaml
      - ./environments/{{ requiredEnv "PLATFORM_ENV" }}/config.yaml

  - name: {{ requiredEnv "PLATFORM_ENV" }}-chuchu
    namespace: {{ requiredEnv "PLATFORM_ENV" }}-edudoor
    labels:
      stage: 2
    chart: ./charts/chuchu
    needs:
      - {{ requiredEnv "PLATFORM_ENV" }}-edudoor/{{ requiredEnv "PLATFORM_ENV" }}-thaladb
    values:
      - ./charts/chuchu/values.yaml
      - ./environments/{{ requiredEnv "PLATFORM_ENV" }}/config.yaml
