<div class="app-toolbar-component">
  <app-active-user-wrapper>
    <div class="session-header">
      <div class="session-title">
        <h1>{{ sessionTitle }}</h1>
      </div>
      <button
        (click)="toggleFullscreen()"
        [disabled]="isConnectionLost"
        *ngIf="externalConfig.hasFullscreen()"
        class="fullscreen-button"
      >
        <mat-icon matTooltip="Fullscreen">{{ fullscreenIcon }}</mat-icon>
      </button>
    </div>
  </app-active-user-wrapper>
  <div id="header" role="heading" [class.headerLight]="lightTheme" class="container video-toolbar">
    <div class="title">
      <app-toolbar-logo
        [lightTheme]="lightTheme"
        [sessionId]="sessionTitle"
        [compact]="compact"
        [logoUrl]="logoUrl"
      ></app-toolbar-logo>
    </div>
    <div class="tool-bar">
      <div class="buttonsContainer" [ngClass]="lightTheme ? 'light' : 'dark'">
        <div class="toolbar-button" *ngIf="externalConfig.hasAudio()">
          <button (click)="toggleMicrophone()" [disabled]="isConnectionLost">
            <mat-icon *ngIf="isWebcamAudioEnabled" matTooltip="Mute your audio">mic</mat-icon>
            <mat-icon *ngIf="!isWebcamAudioEnabled" color="warn" matTooltip="Unmute your audio">mic_off</mat-icon>
          </button>
        </div>

        <div class="toolbar-button" *ngIf="externalConfig.hasVideo()">
          <!-- Camera button -->
          <button (click)="toggleCamera()" [disabled]="isConnectionLost">
            <mat-icon color="primary" *ngIf="isWebcamVideoEnabled" matTooltip="Turn off video">videocam</mat-icon>
            <mat-icon *ngIf="!isWebcamVideoEnabled" color="warn" matTooltip="Turn on video">videocam_off</mat-icon>
          </button>
        </div>
        <div class="toolbar-button" *ngIf="externalConfig.hasScreenSharing()">
          <!-- Screenshare button -->
          <button (click)="toggleScreenShare()" [disabled]="isConnectionLost">
            <mat-icon *ngIf="!isScreenEnabled" matTooltip="Start screen share" color="warn">stop_screen_share</mat-icon>
            <mat-icon *ngIf="isScreenEnabled" matTooltip="Stop screen sharing">screen_share</mat-icon>
          </button>
        </div>

        <div class="toolbar-button" *ngIf="externalConfig.hasLayoutSpeaking()">
          <!-- Automatic / grid layout button -->
          <button (click)="toggleSpeakerLayout()" [disabled]="isConnectionLost">
            <mat-icon matTooltip="Enable speaker layout" color="warn" *ngIf="!isAutoLayout">voice_over_off</mat-icon>
            <mat-icon matTooltip="Disable speaker layout" *ngIf="isAutoLayout">record_voice_over</mat-icon>
          </button>
        </div>

        <div class="toolbar-button" *ngIf="externalConfig.ovSettings.chat">
          <button (click)="toggleChat()" [disabled]="isConnectionLost">
            <mat-icon
              matBadge="{{ newMessagesNum }}"
              [matBadgeHidden]="newMessagesNum === 0"
              matBadgePosition="above before"
              matTooltip="Chat"
              matBadgeColor="accent"
              >chat</mat-icon
            >
          </button>
        </div>
        <div class="toolbar-button">
          <button (click)="toggleParticipants()">
            <mat-icon matTooltip="Participants">people</mat-icon>
          </button>
        </div>
        <div class="toolbar-button" *ngIf="externalConfig.hasExit()">
          <button (click)="leaveSession()" id="navLeaveButton">
            <mat-icon color="warn" matTooltip="Leave the session">phone</mat-icon>
          </button>
        </div>
      </div>
    </div>
    <div></div>
  </div>
</div>
